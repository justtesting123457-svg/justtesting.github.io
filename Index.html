<!DOCTYPE html>
<html>
<head>
  <title>For You üíôüíö</title>

  <style>
    body {
      margin: 0;
      height: 100vh;
      background-color: cyan;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      font-family: Arial, sans-serif;
      overflow: hidden;
      text-align: center;
    }

    .buttons {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
    }

    button {
      padding: 16px 28px;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    #loveBtn {
      background-color: #ff69b4;
      color: white;
      font-size: 18px;
    }

    #noBtn {
      background-color: #555;
      color: white;
    }

    #letterBox {
      background: lime;
      padding: 20px;
      border-radius: 12px;
      max-width: 520px;
      display: none;
      z-index: 2;
      min-height: 120px;
    }

    #letterText {
      line-height: 1.6;
      font-size: 16px;
      white-space: pre-wrap;
    }

    #finalText {
      font-weight: bold;
      margin-top: 20px;
      font-size: 18px;
      display: none;
    }

    .heart {
      position: absolute;
      bottom: -20px;
      animation: floatUp 4s linear forwards;
    }

    @keyframes floatUp {
      to {
        transform: translateY(-110vh) scale(1.5);
        opacity: 0;
      }
    }
  </style>
</head>

<body>

<div class="buttons" id="btnContainer">
  <button id="loveBtn">Click me for a surprise üíñ</button>
  <button id="noBtn">Click me if you're not interested üòê</button>
</div>

<div id="letterBox">
  <div id="letterText"></div>
  <div id="finalText">
    iloveyouuuusooomucccchhhhhhhh la-lhanggggg
  </div>
</div>

<!-- üéµ BACKGROUND MUSIC -->
<audio id="bgMusic" loop>
  <source src="pasilyo.mp3" type="audio/mpeg">
</audio>

<script>
  const loveBtn = document.getElementById("loveBtn");
  const noBtn = document.getElementById("noBtn");
  const letterBox = document.getElementById("letterBox");
  const letterText = document.getElementById("letterText");
  const finalText = document.getElementById("finalText");
  const btnContainer = document.getElementById("btnContainer");
  const bgMusic = document.getElementById("bgMusic");

  let noClicks = 0;
  let letterIndex = 0;
  let revealed = false;
  let typing = false;
  let musicStarted = false;

  const paragraphs = [
    "Helllo, lhang, I'm sorry if I show this to you so early and I made this for valentine day but I see you are pretty mad at me rn so I'll show this to you nlng (click the button again for the next slide)",
    "Sooo idk HAHAHAHAHAH, this is the first time I did scripting to show a letter to a girl I love and idk pretty much abt this lhang, I'm just hoping you will like this but ik you love hand-made love letter but ngl its kinda common na so i'm doing this (click the button again for the next slide)",
    "Please be impressed with me lhang HAHAHHA idk (click again for the next slide)",
    "I love you soo much lhang, this is not a lie, sorrg if I upset you rn but I didnt delete this script but the beta version one because the beta one has soo many bugged and declined lines and that was the script I deleted (click the button again for the next line)",
    "So idk talaga HAHAHAHAHA after this you must slap me in the face because i'm ugly and sakit ako tiyan blablabla enough abt me huhu (click the button again for the next nigga)",
    "Lhang, I very greatly love you soo much and I wont stop loving you, i'll love you forever and sorry if I hurt your feelings, I dont intentionally doing it, idk whats on my mind and thank you for being with me hangtud karon even though walay kita rn bsta i'll wait for your decision bahalag unsa kadugay bsta naa rako sa imong kilid permi ayaw kalimti na HAHAHAHAH, AND YOU ARE VERY VERYYY BEAUTIFULLLLL LA-LHANGGGGGGG!!",
    "Soo quick question, pila kabuok slide imong nakit-an? apil nani rn ha HAHAHAHAAHAH please tell me"
  ];

  function revealSetup() {
    if (revealed) return;
    revealed = true;

    noBtn.style.display = "none";
    btnContainer.style.justifyContent = "center";

    loveBtn.style.fontSize = "22px";
    loveBtn.style.padding = "18px 32px";

    letterBox.style.display = "block";

    if (!musicStarted) {
      bgMusic.volume = 0;
      bgMusic.play();
      fadeInMusic();
      musicStarted = true;
    }
  }

  function fadeInMusic() {
    let vol = 0;
    const interval = setInterval(() => {
      if (vol < 0.5) {
        vol += 0.02;
        bgMusic.volume = vol;
      } else {
        clearInterval(interval);
      }
    }, 200);
  }

  function typeWriter(text, index = 0) {
    typing = true;
    if (index < text.length) {
      letterText.textContent += text.charAt(index);
      setTimeout(() => typeWriter(text, index + 1), 35);
    } else {
      typing = false;
    }
  }

  noBtn.addEventListener("click", () => {
    noClicks++;
    if (noClicks >= 5) {
      revealSetup();
    }
  });

  loveBtn.addEventListener("click", () => {
    revealSetup();

    if (typing) return;

    if (letterIndex < paragraphs.length) {
      letterText.textContent = "";
      typeWriter(paragraphs[letterIndex]);
      letterIndex++;

      if (letterIndex === paragraphs.length) {
        setTimeout(() => {
          finalText.style.display = "block";
          startHearts();
        }, 1000);
      }
    }
  });

  function startHearts() {
    setInterval(() => {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.textContent = Math.random() > 0.5 ? "üíô" : "üíö";
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.fontSize = Math.random() * 20 + 18 + "px";

      document.body.appendChild(heart);

      setTimeout(() => heart.remove(), 4000);
    }, 300);
  }
</script>

</body>
</html>
